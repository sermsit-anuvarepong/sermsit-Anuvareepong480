<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<!-- Link library leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin="" />



<!-- W3 CSS template -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />



<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin="">
</script>



<style>
#mapid {
height: 800px;
}
</style>



<title>Tourist map</title>
<h1 align='center'><b>สถานที่ท่องเที่ยวในโตเกียว 10 เเห่ง ประเทศญี่ปุ่น<b></h1>
<p style="color:blue;"><strong><em> โดย นายเสริมสิทธิ์ อนุวารีพงษ์.</em></strong></p>
</head>
<body style="background-image: url(https://i.pinimg.com/564x/63/43/72/634372501e16a86579597179a15c1316.jpg);">
<!-- แบ่งหน้าจอ -->
<div class="w3-row">
<div id="mapid" class="w3-half"></div>
<div id="content" class="w3-half">
<table class="w3-table w3-striped">
<tr>
<th>ชื่อแหล่งท่องเที่ยว</th>
<th>ประเภท</th>
<th>คะเเนน</th>
</tr>
<tr>
<td>น้ำตก A</td>
<td>ธรรมชาติ</td>
<td>A</td>
</tr>
</table>
</div>
</div>



<!-- เรียกแผนที่ขึ้นมาแสดง -->
<script>
var map = L.map("mapid").setView([35.680078505359184,139.7686380953105],10);
var osm = L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}").addTo(map);
var gsat = L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}").addTo(map);
var OpenStreetMap_France = L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png").addTo(map);
var baseMaps ={
  ESWI:osm,
  NGWM:gsat,
  France:OpenStreetMap_France,
};
//add data
var tourpoint = {
type: "FeatureCollection",
name: "tour_plk",
crs: {
type: "name",
properties: { name: "urn:ogc:def:crs:OGC:1.3:CRS84" },
},
features: [
{
type: "Feature",
properties: {
Name: "อากิฮาบาระ",
Type: "ย่านช็อปปิ้ง",
FID_1: 1358.0,
level: "5.0",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.77453054522533,35.702285673037416]],
},
},
{
type: "Feature",
properties: {
Name: "หอคอยโตเกียว",
Type: "สถานที่ท่องเที่ยว",
FID_1: 1357.0,
level: "4.4",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.7453973527737,35.65861330715986]],
},
},
{
type: "Feature",
properties: {
Name: "วัดเซ็นโซ",
Type: "วัด/ศาลเจ้า",
FID_1: 1362.0,
level: "4.5",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.79662629825447,35.71477628782421]],
},
},
{
type: "Feature",
properties: {
Name: "ศาลเจ้าเมจิ",
Type: "วัด/ศาลเจ้า",
FID_1: 1364.0,
level: "4.6",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.6993152970272,35.67660973582863]],
},
},
{
type: "Feature",
properties: {
Name: "โตเกียวดิสนีย์แลนด์",
Type: "สวนสนุก",
FID_1: 1355.0,
level: "4.6",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.8803551883342,35.632925510835015]],
},
},
{
type: "Feature",
properties: {
Name: "พิพิธภัณฑ์สัตว์น้ำซุมิดะ",
Type: "พิพิธภัณฑ์",
FID_1: 1365.0,
level: "4.1",
},
geometry: {
type: "MultiPoint",
coordinates: [[ 139.80950621643711,35.709922108164356]],
},
},
{
type: "Feature",
properties: {
Name: "ซานริโอ พูโรแลนด์",
Type: "สวนสนุก",
FID_1: 733.0,
level: "4.2",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.42910032729415,35.624521479441896]],
},
},
{
type: "Feature",
properties: {
Name: "สวนอุเอะโนะ",
Type: "อุทยาน",
FID_1: 1359.0,
level: "4.3",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.7740133309426,35.715513048400354]],
},
},
{
type: "Feature",
properties: {
Name: "กินซะ",
Type: "ย่านช็อปปิ้ง",
FID_1: 603.0,
level: "5.0",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.76637955095845,35.67116232769979]],
},
},
{
type: "Feature",
properties: {
Name: "โรงละครคาบูกิสะ",
Type: "โรงละคร",
FID_1: 611.0,
level: "4.3",
},
geometry: { type: "MultiPoint", coordinates: [[139.76775854791137,35.66945512030775]] },
},
{
type: "Feature",
properties: {
Name: "พระราชวังโตเกียวอิมพีเรียล",
Type: "อุทยาน",
FID_1: 1370.0,
level: "4.4",
},
geometry: {
type: "MultiPoint",
coordinates: [[139.7527780426253,35.68519238945238]],
},
},
],
};

//add maker and popup
var tourLayer = L.geoJSON(tourpoint, {
pointToLayer: function (feature, latlng) {
return L.marker(latlng).bindPopup(feature.properties.Name);
},
onEachFeature: function (feature, layer) {
layer.on("mouseover", function () {
document
.getElementById(feature.properties.FID_1)
.classList.add("w3-red");
});



layer.on("mouseout", function () {
document
.getElementById(feature.properties.FID_1)
.classList.remove("w3-red");
});
},
}).addTo(map);
//Link table with popup and marker
var cont = "";
cont += "<table class='w3-table w3-striped'>";
cont += "<tr>";
cont += "<th>ชื่อแหล่งท่องเที่ยว</th>";
cont += "<th>ประเภท</th>";
cont += "<th>ระดับ</th>";
cont += "</tr>";
for (let i in tourpoint.features) {
cont += "<tr id=" + tourpoint.features[i].properties.FID_1 + ">";
cont += "<td>" + tourpoint.features[i].properties.Name + "</td>";
cont += "<td>" + tourpoint.features[i].properties.Type + "</td>";
cont += "<td>" + tourpoint.features[i].properties.level + "</td>";
cont += "</tr>";
}
cont += "</table>";
console.log(cont);
document.getElementById("content").innerHTML = cont;

var polygonGeoJson = {
  "type": "FeatureCollection",
   "features": [
     {
       "type": "Feature",
       "properties": {
         "stroke": "#e60000",
         "stroke-width": 2,
         "stroke-opacity": 1,
         "fill": "#f50000",
         "fill-opacity": 0.5
       },
       "geometry": {
         "type": "Polygon",
         "coordinates": [
           [
             [
               139.4110107421875,
               35.91685961322499
             ],
             [
               139.41513061523438,
               35.48751102385376
             ],
             [
               139.98092651367188,
               35.48415637985317
             ],
             [
               139.97817993164062,
               35.9190839537629
             ],
             [
               139.4110107421875,
               35.91685961322499
             ]
           ]
         ]
       }
     }
   ]
 }

var polygonLayer = L.geoJSON(polygonGeoJson, {
style: function (feature) {
return { color: feature.properties.color };
},
onEachFeature: function (feature, layer) {
layer.bindPopup(feature.properties.name);



layer.on("mouseover", function () {
layer.openPopup();
});



layer.on("mouseout", function () {
layer.closePopup();
});
},
});

var overlays = {
  สถานที่ท่องเที่ยวในโตเกียว:tourLayer,
  ขอบเขตเเหล่งท่องเที่ยว:polygonLayer
};

L.control.layers(baseMaps,overlays).addTo(map);
</script>



</body>
</html>
